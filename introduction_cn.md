# Pocket4D
一个嵌入式开源的App/Dapp容器，容器运行在现有的iOS/Android/桌面应用中，同时，容器内部加载和运行`小程序`

1. [Pocket4D](#pocket4d)
   1. [背景](#背景)
      1. [小程序](#小程序)
      2. [当前Web 2.0系统中的痛点](#当前web20系统中的痛点)
      3. [当前Web 3.0系统中的痛点](#当前web30系统中的痛点)
   2. [总体解决方案](#总体解决方案)
   3. [技术层面的设计](#技术层面的设计)
   4. [路线规划图](#路线规划图)

## 背景
### 小程序
2016年末，微信的创始人之一，张小龙发起了`小程序`的理念。当时微信在全世界已拥有超过10亿的用户量，而小程序只允许在微信中运行。张小龙认为，`小程序`是`唾手可得，用完即走`的，当这个想法在微信中落地后，`小程序`发展势如破竹。小程序发布没多久，百度、字节跳动、阿里巴巴等大型公司也跟随着微信的步伐，研发了属于自己的`小程序`体系。截至2020年6月，小程序的用户总量已超过了4亿，同时已有超过60万个小程序上架运营。

`小程序`将Javascript应用与原生应用做了深度的有机结合。Javascript非常贴近前端开发者习惯，而原生侧则提供了网页浏览器所不具备的高性能渲染引擎以及强大的API。与此同时，当今的智能手机用户，更多依赖的是手机及App所带来的互联网服务的便利。因此开发App的企业更愿意能自主独立地增强他们原生App的功能，而不是每次都要通过升级APP版本并受到苹果商店或Google Play的审查。于是，`小程序`成为了这些企业的轻量级最优解。

然而，研发`小程序`的这些巨头公司并不愿意将其软件开源，因为在实际业务中很难将其从他们所提供的服务中完整剥离。但这些企业的策略确实吸引了很多其他公司和个人开发者加入到自己的生态中。

### 当前Web 2.0系统中的痛点
Web 2.0当中有一系列的痛点
1. 其一是“老大哥”。正如开发者众所周知的那样，苹果商店和Google Play都会对许多App进行下架或者拒绝上架。有些是因为内容违规的原因，而有些是商业原因。由于手机操作系统正是在这些巨头公司的掌控之下，所以开发者并没有选择的余地。最近一个知名的手机游戏遭到了苹果商店和Google Play的下架，仅仅是因为其研发商希望使用自己的支付方式。老大哥们一直在对App及其服务内容进行严格的审查和监管，于是当他们认为App及服务内容违反了所谓的政策规定时，App就会被下架拒绝，毫无讨价还价的余地。
2. 另外一个则是，如今开发一个原生App或者建立一个网站的成本并不低。开发者需要购买域名、租赁服务器、提供Https认证以及运行云程序，最后还要到市场中花钱推广App。开发成本不菲，而他们可能只在广告业务中能赚取一点微薄利润。
   

### 当前Web 3.0系统中的痛点
我们希望Web 3.0生态系统变得强大，每个人都能因此受益。然而，目前依然有相当多的痛点。
1. 绝大部分的Web 3.0项目都是后端项目，它们需要再开发客户端与其对接。然而许多客户端侧的App都会被苹果商店以及Google Play拒绝上架，或是项目自研的客户端本身体验很差，导致这些项目只能依赖钱包App而发挥价值。
2. 绝大部分的Web 3.0前端项目都是基于浏览器的。因此用户必须打开台式电脑或手机浏览器来运行这些网页应用。然而，这些网页应用在一定程度上又依赖于浏览器扩展，因此它们非常难以触达手机用户。
3. 现在的钱包App都通过Webview及`Web3`来为网页应用提供接口。但是，网页应用制作水准参差不齐，容易产生加载慢及兼容性问题，导致使用体验很差。一旦钱包App被苹果商店和Google Play拒绝，用户只能寻找其他替代方案。
4. 现在的Web是基于域名的，很难实现彻底的去中心化。除去后端部分，即使使用了AWS云存储或者Google cloud，客户端仍需一个http/https的域名来解析前端的资源。因此这产生了一定的运营风险，即可能会因为服务端问题导致App服务无法访问。
   
## 总体解决方案
在此，我们针对上述痛点提出了解决方案：我们在考虑将`小程序`应用到去中心化系统的过程中，发现它有可能成为在当前Web 3.0阶段中，成为扩展用户规模的一块重要拼图。

1. 成为一个容器

   Pocket4D会作为一个容器，而不仅仅是一个App。这个容器就像微信承载`小程序`生态系统一样，它将为Javascript侧提供标准的渲染协议（如xml），以及常用的API（如导航、设备信息等）。同时它应该向终端用户提供诸如`Web3`对象的接口。
   Pocket4D会有标准的渲染引擎，以提供有质量保证的服务能力，并且可以很方便地集成在`宿主`App中。
   
2. 公开、去中心化、可访问、保护隐私

   Pocket4D的重要一点是，面向公开的去中心化，当中的协议将向Web 3.0生态开放。
   1. 不使用域名系统来存储或保存客户端资源，而是使用IPFS或其他去中心化存储方案来代替。
   2. 可集成和嵌入在大多数`宿主`App中，而不仅仅为某个App而服务。接入门槛低，就像嵌入webview一样。
   3. `小程序`的Meta信息可被搜索引擎抓取。
   4. 隐私及其重要，Pocket4D将默认使用Web 3.0生态系统中提供的隐私保护方案。
   
3. 具备商业和公众服务潜力

   1. 对于`宿主`和`小程序`本身而言，`小程序`具备商业化潜力。宿主可以通过集成`小程序`进行服务能力扩展，与小程序服务提供商之间的结算则可通过法币或Cryto来完成（如智能合约）。
   2. 公众服务可以变成`小程序`，例如`COVID-19`的相关信息，或者面向公众的投票系统。
   3. 有为数众多的企业和App会被苹果商店或Google Play拒绝入驻或上架，因此他们可以尝试通过开发`小程序`以获得重新面向移动用户的机会。

## 技术层面的设计
Pocket4D的技术层面设计比较独特，请查看[技术层面设计](technical-design.md)

## 路线规划图
Pocket4D是一个非常长期的项目，请查看[路线规划图](roadmaps.md)













